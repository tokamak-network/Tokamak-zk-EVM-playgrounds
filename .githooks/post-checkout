#!/bin/bash

# Post-checkout hook to set up development environment
echo "Setting up development environment..."

# Ensure .cursorrules is in place (should already be in repo)
if [ -f ".cursorrules" ]; then
    echo "âœ… .cursorrules found and ready"
else
    echo "âš ï¸  .cursorrules not found, please check repository"
fi

# Check if PROMPT directory exists
if [ -d "PROMPT" ]; then
    echo "âœ… PROMPT directory with coding guidelines found"
else
    echo "âš ï¸  PROMPT directory not found"
fi

# Install dependencies if package.json exists
if [ -f "package.json" ]; then
    echo "ğŸ“¦ Installing dependencies..."
    npm install
fi

# Set up git hooks
if [ -d ".githooks" ]; then
    echo "ğŸ”§ Setting up git hooks..."
    git config core.hooksPath .githooks
    chmod +x .githooks/*
fi

echo "ğŸš€ Development environment setup complete!"
echo ""
echo "ğŸ“‹ Coding Guidelines:"
echo "  â€¢ ALL comments must be in English"
echo "  â€¢ Follow TypeScript strict typing"
echo "  â€¢ Implement proper error handling"
echo "  â€¢ Consider cross-platform compatibility"
echo ""
echo "ğŸ“ Reference files:"
echo "  â€¢ .cursorrules (auto-applied by Cursor)"
echo "  â€¢ PROMPT/CODING_RULES.md (detailed guidelines)"
echo "  â€¢ PROMPT/CURSOR_PROMPT.md (AI assistant instructions)"